# contains extra/misc stuff

# get a common execution environment
MJS_BASE=${MJS_BASE:-"$HOME/macos-jump-start"}
. "$MJS_BASE/common.sh"

# only run if bash is installed
if has_brew; then
  # bash completion
  if [ -f $(brew --prefix)/share/bash-completion/bash_completion ]; then
    . $(brew --prefix)/share/bash-completion/bash_completion
  fi

  # jenv
  if brew_installed jenv; then
    eval "$(jenv init -)"
  fi

  # nvm
  if brew_installed nvm; then
    . $(brew --prefix nvm)/nvm.sh
  fi

  # ondir
  if brew_installed ondir; then
    function cd {
      builtin cd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
    }
    function pushd {
      builtin pushd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
    }
    function popd {
      builtin popd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
    }
  fi
fi

