# contains extra/misc stuff

# bash completion
if [ -f $(brew --prefix)/share/bash-completion/bash_completion ]; then
  . $(brew --prefix)/share/bash-completion/bash_completion
fi

# nvm
. $(brew --prefix nvm)/nvm.sh

# ondir
function cd {
  builtin cd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
}
function pushd {
  builtin pushd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
}
function popd {
  builtin popd "$@" && eval "`ondir \"$OLDPWD\" \"$PWD\"`"
}

# gpg-agent
# envfile="$HOME/.gnupg/gpg-agent.env"
# if [[ -e "$envfile" ]] && kill -0 $(grep GPG_AGENT_INFO "$envfile" | cut -d: -f 2) 2> /dev/null; then
#     eval "$(cat "$envfile")"
# else
#     eval "$(gpg-agent --daemon --enable-ssh-support --write-env-file "$envfile")"
# fi
# export GPG_AGENT_INFO
# export SSH_AUTH_SOCK
